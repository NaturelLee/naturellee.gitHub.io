<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Rust Std Docs | NaturelLee Blogs</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.png">
    <meta name="description" content="Cease to upgrade, you cease to live!">
    
    <link rel="preload" href="/assets/css/0.styles.e422860a.css" as="style"><link rel="preload" href="/assets/js/app.b543d54d.js" as="script"><link rel="preload" href="/assets/js/2.62d91e13.js" as="script"><link rel="preload" href="/assets/js/27.f5296968.js" as="script"><link rel="prefetch" href="/assets/js/10.439227e3.js"><link rel="prefetch" href="/assets/js/11.7cbbc9ad.js"><link rel="prefetch" href="/assets/js/12.184ffd58.js"><link rel="prefetch" href="/assets/js/13.149ff76c.js"><link rel="prefetch" href="/assets/js/14.1b6e964d.js"><link rel="prefetch" href="/assets/js/15.4b3916da.js"><link rel="prefetch" href="/assets/js/16.31f03f3a.js"><link rel="prefetch" href="/assets/js/17.4abb7a4a.js"><link rel="prefetch" href="/assets/js/18.cfb6eb66.js"><link rel="prefetch" href="/assets/js/19.b54b7428.js"><link rel="prefetch" href="/assets/js/20.b96bcfbc.js"><link rel="prefetch" href="/assets/js/21.0cc9c81c.js"><link rel="prefetch" href="/assets/js/22.c4cfacee.js"><link rel="prefetch" href="/assets/js/23.2ba72e90.js"><link rel="prefetch" href="/assets/js/24.c638e324.js"><link rel="prefetch" href="/assets/js/25.d52be13f.js"><link rel="prefetch" href="/assets/js/26.635e0b30.js"><link rel="prefetch" href="/assets/js/28.cb2ded15.js"><link rel="prefetch" href="/assets/js/29.ababf478.js"><link rel="prefetch" href="/assets/js/3.027ab360.js"><link rel="prefetch" href="/assets/js/4.d8c7114c.js"><link rel="prefetch" href="/assets/js/5.8cc31ec1.js"><link rel="prefetch" href="/assets/js/6.6dc7d4fb.js"><link rel="prefetch" href="/assets/js/7.c81494b7.js"><link rel="prefetch" href="/assets/js/8.e94e418e.js"><link rel="prefetch" href="/assets/js/9.5b770a29.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e422860a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/favicon.png" alt="NaturelLee Blogs" class="logo"> <span class="site-name can-hide">NaturelLee Blogs</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="FE" class="dropdown-title"><span class="title">FE</span> <span class="arrow down"></span></button> <button type="button" aria-label="FE" class="mobile-dropdown-title"><span class="title">FE</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v1/fe/hooks.html" class="nav-link">
  hooks
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/reactRefs.html" class="nav-link">
  ReactRefs
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/feInterview.html" class="nav-link">
  前端面试题
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/webFrontEndTutorial.html" class="nav-link">
  前端教程
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/reactImp.html" class="nav-link">
  React性能优化
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/EverythingYouNeedtoKnowAboutDateinJavaScript.html" class="nav-link">
  JS中的日期
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/postcss.html" class="nav-link">
  Postcss实践
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/puppeteer.html" class="nav-link">
  Puppeteer集成测试
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/sass.html" class="nav-link">
  sass
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Server" class="dropdown-title"><span class="title">Server</span> <span class="arrow down"></span></button> <button type="button" aria-label="Server" class="mobile-dropdown-title"><span class="title">Server</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v1/server/Restful.html" class="nav-link">
  Restful
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="OS" class="dropdown-title"><span class="title">OS</span> <span class="arrow down"></span></button> <button type="button" aria-label="OS" class="mobile-dropdown-title"><span class="title">OS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v1/os/os.html" class="nav-link">
  OS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Rust" class="dropdown-title"><span class="title">Rust</span> <span class="arrow down"></span></button> <button type="button" aria-label="Rust" class="mobile-dropdown-title"><span class="title">Rust</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v1/rust/RustBook.html" class="nav-link">
  The Book
</a></li><li class="dropdown-item"><!----> <a href="/v1/rust/RustStd.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Std
</a></li><li class="dropdown-item"><!----> <a href="/v1/rust/RustFirstClass.html" class="nav-link">
  Rust First Class
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Read" class="dropdown-title"><span class="title">Read</span> <span class="arrow down"></span></button> <button type="button" aria-label="Read" class="mobile-dropdown-title"><span class="title">Read</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v1/read/principles.html" class="nav-link">
  原则
</a></li><li class="dropdown-item"><!----> <a href="/v1/read/takeTimeAsFriends.html" class="nav-link">
  把时间当做朋友
</a></li><li class="dropdown-item"><!----> <a href="/v1/read/6monthEnglish.html" class="nav-link">
  半年掌握一门外语
</a></li><li class="dropdown-item"><!----> <a href="/v1/read/10StepstoBecomeaMillionairein5Years.html" class="nav-link">
  如何成为百万富翁
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Sparkling" class="dropdown-title"><span class="title">Sparkling</span> <span class="arrow down"></span></button> <button type="button" aria-label="Sparkling" class="mobile-dropdown-title"><span class="title">Sparkling</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v1/theRightWayToBuildYourBlog.html" class="nav-link">
  这才是搭建个人博客的正确姿
</a></li><li class="dropdown-item"><!----> <a href="/v1/hackYourMemory.html" class="nav-link">
  记忆宫殿
</a></li><li class="dropdown-item"><!----> <a href="/v1/editorSkills.html" class="nav-link">
  编辑器小技巧
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/NaturelLee/blogs/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contact
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="FE" class="dropdown-title"><span class="title">FE</span> <span class="arrow down"></span></button> <button type="button" aria-label="FE" class="mobile-dropdown-title"><span class="title">FE</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v1/fe/hooks.html" class="nav-link">
  hooks
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/reactRefs.html" class="nav-link">
  ReactRefs
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/feInterview.html" class="nav-link">
  前端面试题
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/webFrontEndTutorial.html" class="nav-link">
  前端教程
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/reactImp.html" class="nav-link">
  React性能优化
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/EverythingYouNeedtoKnowAboutDateinJavaScript.html" class="nav-link">
  JS中的日期
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/postcss.html" class="nav-link">
  Postcss实践
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/puppeteer.html" class="nav-link">
  Puppeteer集成测试
</a></li><li class="dropdown-item"><!----> <a href="/v1/fe/sass.html" class="nav-link">
  sass
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Server" class="dropdown-title"><span class="title">Server</span> <span class="arrow down"></span></button> <button type="button" aria-label="Server" class="mobile-dropdown-title"><span class="title">Server</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v1/server/Restful.html" class="nav-link">
  Restful
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="OS" class="dropdown-title"><span class="title">OS</span> <span class="arrow down"></span></button> <button type="button" aria-label="OS" class="mobile-dropdown-title"><span class="title">OS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v1/os/os.html" class="nav-link">
  OS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Rust" class="dropdown-title"><span class="title">Rust</span> <span class="arrow down"></span></button> <button type="button" aria-label="Rust" class="mobile-dropdown-title"><span class="title">Rust</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v1/rust/RustBook.html" class="nav-link">
  The Book
</a></li><li class="dropdown-item"><!----> <a href="/v1/rust/RustStd.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Std
</a></li><li class="dropdown-item"><!----> <a href="/v1/rust/RustFirstClass.html" class="nav-link">
  Rust First Class
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Read" class="dropdown-title"><span class="title">Read</span> <span class="arrow down"></span></button> <button type="button" aria-label="Read" class="mobile-dropdown-title"><span class="title">Read</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v1/read/principles.html" class="nav-link">
  原则
</a></li><li class="dropdown-item"><!----> <a href="/v1/read/takeTimeAsFriends.html" class="nav-link">
  把时间当做朋友
</a></li><li class="dropdown-item"><!----> <a href="/v1/read/6monthEnglish.html" class="nav-link">
  半年掌握一门外语
</a></li><li class="dropdown-item"><!----> <a href="/v1/read/10StepstoBecomeaMillionairein5Years.html" class="nav-link">
  如何成为百万富翁
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Sparkling" class="dropdown-title"><span class="title">Sparkling</span> <span class="arrow down"></span></button> <button type="button" aria-label="Sparkling" class="mobile-dropdown-title"><span class="title">Sparkling</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v1/theRightWayToBuildYourBlog.html" class="nav-link">
  这才是搭建个人博客的正确姿
</a></li><li class="dropdown-item"><!----> <a href="/v1/hackYourMemory.html" class="nav-link">
  记忆宫殿
</a></li><li class="dropdown-item"><!----> <a href="/v1/editorSkills.html" class="nav-link">
  编辑器小技巧
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/NaturelLee/blogs/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contact
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Rust Std Docs</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/v1/rust/RustStd.html#cell" class="sidebar-link">Cell</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/v1/rust/RustStd.html#string" class="sidebar-link">String</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v1/rust/RustStd.html#str" class="sidebar-link">&amp;str</a></li></ul></li><li><a href="/v1/rust/RustStd.html#misconceptions" class="sidebar-link">Misconceptions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v1/rust/RustStd.html#t-t-mut-t" class="sidebar-link">T, &amp;T, &amp;mut T</a></li><li class="sidebar-sub-header"><a href="/v1/rust/RustStd.html#t-static" class="sidebar-link">T: 'static</a></li><li class="sidebar-sub-header"><a href="/v1/rust/RustStd.html#a-t-and-t-a" class="sidebar-link">&amp;‘a T and T: 'a</a></li><li class="sidebar-sub-header"><a href="/v1/rust/RustStd.html#lifetime" class="sidebar-link">lifetime</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="rust-std-docs"><a href="#rust-std-docs" class="header-anchor">#</a> Rust Std Docs</h1> <h2 id="cell"><a href="#cell" class="header-anchor">#</a> Cell</h2> <h2 id="string"><a href="#string" class="header-anchor">#</a> String</h2> <h3 id="str"><a href="#str" class="header-anchor">#</a> &amp;str</h3> <div class="language-rust line-numbers-mode"><pre class="language-rust"><code><span class="token comment">// string literal</span>
<span class="token keyword">let</span> s2<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">str</span> <span class="token operator">=</span> <span class="token string">&quot;Hello, world!&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol><li>&amp;str is stored directly in the compiled binary.</li> <li>Stored in Text/Code segment.</li> <li>&amp;str has a static lifetime. They are never deallocated.</li></ol> <h2 id="misconceptions"><a href="#misconceptions" class="header-anchor">#</a> Misconceptions</h2> <table><thead><tr><th>Phrase</th> <th>Shorthand for</th></tr></thead> <tbody><tr><td><code>T</code></td> <td>1) a set containing all possible types <em>or</em><br>2) some type within that set</td></tr> <tr><td>owned type</td> <td>some non-reference type, e.g. <code>i32</code>, <code>String</code>, <code>Vec</code>, etc</td></tr> <tr><td>1) borrowed type <em>or</em><br>2) ref type</td> <td>some reference type regardless of mutability, e.g. <code>&amp;i32</code>, <code>&amp;mut i32</code>, etc</td></tr> <tr><td>1) mut ref <em>or</em><br>2) exclusive ref</td> <td>exclusive mutable reference, i.e. <code>&amp;mut T</code></td></tr> <tr><td>1) immut ref <em>or</em><br>2) shared ref</td> <td>shared immutable reference, i.e. <code>&amp;T</code></td></tr></tbody></table> <h3 id="t-t-mut-t"><a href="#t-t-mut-t" class="header-anchor">#</a> T, &amp;T, &amp;mut T</h3> <ol><li>T is a superset of both &amp;T and &amp;mut T</li> <li>&amp;T and &amp;mut T are disjoint sets</li></ol> <h3 id="t-static"><a href="#t-static" class="header-anchor">#</a> T: 'static</h3> <ol><li>T: 'static should be read as &quot;T is bounded by a 'static lifetime&quot;</li> <li>if T: 'static then T can be a borrowed type with a 'static lifetime or an owned type</li> <li>since T: 'static includes owned types that means T
<ol><li>can be dynamically allocated at run-time</li> <li>does not have to be valid for the entire program</li> <li>can be safely and freely mutated</li> <li>can be dynamically dropped at run-time</li> <li>can have lifetimes of different durations</li></ol></li></ol> <h3 id="a-t-and-t-a"><a href="#a-t-and-t-a" class="header-anchor">#</a> &amp;‘a T and T: 'a</h3> <ol><li>T: 'a is more general and more flexible than &amp;'a T</li> <li>T: 'a accepts owned types, owned types which contain references, and references</li> <li>&amp;'a T only accepts references</li> <li>if T: 'static then T: 'a since 'static &gt;= 'a for all 'a</li></ol> <h3 id="lifetime"><a href="#lifetime" class="header-anchor">#</a> lifetime</h3> <ol><li>almost all Rust code is generic code and there's elided lifetime annotations everywhere</li> <li>Rust's lifetime elision rules for functions are not always right for every situation</li> <li>Rust does not know more about the semantics of your program than you do</li> <li>give your lifetime annotations descriptive names</li> <li>try to be mindful of where you place explicit lifetime annotations and why</li> <li>all trait objects have some inferred default lifetime bounds</li> <li>Rust's lifetime elision rules for trait objects are not always right for every situation</li> <li>Rust does not know more about the semantics of your program than you do</li> <li>Rust compiler error messages suggest fixes which will make your program compile which is not that same as fixes which will 1. make you program compile and best suit the requirements of your program</li> <li>lifetimes are statically verified at compile-time</li> <li>lifetimes cannot grow or shrink or change in any way at run-time</li> <li>Rust borrow checker will always choose the shortest possible lifetime for a variable assuming all code paths can be taken</li> <li>try not to re-borrow mut refs as shared refs, or you're gonna have a bad time</li> <li>re-borrowing a mut ref doesn't end its lifetime, even if the ref is dropped</li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/6/2022, 1:00:03 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><div></div></div></div>
    <script src="/assets/js/app.b543d54d.js" defer></script><script src="/assets/js/2.62d91e13.js" defer></script><script src="/assets/js/27.f5296968.js" defer></script>
  </body>
</html>
